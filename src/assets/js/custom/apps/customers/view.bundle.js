"use strict";var KTModalAddPayment=function(){var t,e,n,o,r,a,i;return{init:function(){t=document.querySelector("#kt_modal_add_payment"),i=new bootstrap.Modal(t),a=t.querySelector("#kt_modal_add_payment_form"),e=a.querySelector("#kt_modal_add_payment_submit"),n=a.querySelector("#kt_modal_add_payment_cancel"),o=t.querySelector("#kt_modal_add_payment_close"),r=FormValidation.formValidation(a,{fields:{invoice:{validators:{notEmpty:{message:"Invoice number is required"}}},status:{validators:{notEmpty:{message:"Invoice status is required"}}},amount:{validators:{notEmpty:{message:"Invoice amount is required"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row",eleInvalidClass:"",eleValidClass:""})}}),$(a.querySelector('[name="status"]')).on("change",(function(){r.revalidateField("status")})),e.addEventListener("click",(function(t){t.preventDefault(),r&&r.validate().then((function(t){console.log("validated!"),"Valid"==t?(e.setAttribute("data-kt-indicator","on"),e.disabled=!0,setTimeout((function(){e.removeAttribute("data-kt-indicator"),Swal.fire({text:"Form has been successfully submitted!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}).then((function(t){t.isConfirmed&&(i.hide(),e.disabled=!1,a.reset(),(void 0).innerHTML="--")}))}),2e3)):Swal.fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))})),n.addEventListener("click",(function(t){t.preventDefault(),Swal.fire({text:"Are you sure you would like to cancel?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, cancel it!",cancelButtonText:"No, return",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-active-light"}}).then((function(t){t.value?(a.reset(),i.hide()):"cancel"===t.dismiss&&Swal.fire({text:"Your form has not been cancelled!.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))})),o.addEventListener("click",(function(t){t.preventDefault(),Swal.fire({text:"Are you sure you would like to cancel?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, cancel it!",cancelButtonText:"No, return",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-active-light"}}).then((function(t){t.value?(a.reset(),i.hide()):"cancel"===t.dismiss&&Swal.fire({text:"Your form has not been cancelled!.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))}))}}}(),KTModalAdjustBalance=function(){var t,e,n,o,r,a,i,c,l;return{init:function(){t=document.querySelector("#kt_modal_adjust_balance"),l=new bootstrap.Modal(t),c=t.querySelector("#kt_modal_adjust_balance_form"),e=c.querySelector("#kt_modal_adjust_balance_submit"),n=c.querySelector("#kt_modal_adjust_balance_cancel"),o=t.querySelector("#kt_modal_adjust_balance_close"),Inputmask("US$ 9,999,999.99",{numericInput:!0}).mask("#kt_modal_inputmask"),function(){const e=t.querySelector('[kt-modal-adjust-balance="current_balance"]');i=t.querySelector('[kt-modal-adjust-balance="new_balance"]'),a=document.getElementById("kt_modal_inputmask");let n,o=parseFloat(e.innerHTML.replace(/[^0-9.]/g,"").replace(",",""));a.addEventListener("change",(function(t){n=parseFloat(t.target.value.replace(/[^0-9.]/g,"").replace(",","")),isNaN(n)&&(n=0),i.innerHTML="US$ "+(n+o).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}))}(),r=FormValidation.formValidation(c,{fields:{adjustment:{validators:{notEmpty:{message:"Adjustment type is required"}}},amount:{validators:{notEmpty:{message:"Amount is required"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row",eleInvalidClass:"",eleValidClass:""})}}),$(c.querySelector('[name="adjustment"]')).on("change",(function(){r.revalidateField("adjustment")})),e.addEventListener("click",(function(t){t.preventDefault(),r&&r.validate().then((function(t){console.log("validated!"),"Valid"==t?(e.setAttribute("data-kt-indicator","on"),e.disabled=!0,setTimeout((function(){e.removeAttribute("data-kt-indicator"),Swal.fire({text:"Form has been successfully submitted!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}).then((function(t){t.isConfirmed&&(l.hide(),e.disabled=!1,c.reset(),i.innerHTML="--")}))}),2e3)):Swal.fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))})),n.addEventListener("click",(function(t){t.preventDefault(),Swal.fire({text:"Are you sure you would like to cancel?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, cancel it!",cancelButtonText:"No, return",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-active-light"}}).then((function(t){t.value?(c.reset(),l.hide()):"cancel"===t.dismiss&&Swal.fire({text:"Your form has not been cancelled!.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))})),o.addEventListener("click",(function(t){t.preventDefault(),Swal.fire({text:"Are you sure you would like to cancel?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, cancel it!",cancelButtonText:"No, return",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-active-light"}}).then((function(t){t.value?(c.reset(),l.hide()):"cancel"===t.dismiss&&Swal.fire({text:"Your form has not been cancelled!.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))}))}}}(),KTCustomerViewInvoices={init:function(){!function(){const t="#kt_customer_details_invoices_table_1";document.querySelector(t).querySelectorAll("tbody tr").forEach((t=>{const e=t.querySelectorAll("td"),n=moment(e[0].innerHTML,"DD MMM YYYY, LT").format();e[0].setAttribute("data-order",n)})),$(t).DataTable({info:!1,order:[],pageLength:5,lengthChange:!1,columnDefs:[{orderable:!1,targets:4}]})}(),function(){const t="#kt_customer_details_invoices_table_2";document.querySelector(t).querySelectorAll("tbody tr").forEach((t=>{const e=t.querySelectorAll("td"),n=moment(e[0].innerHTML,"DD MMM YYYY, LT").format();e[0].setAttribute("data-order",n)})),$(t).DataTable({info:!1,order:[],pageLength:5,lengthChange:!1,columnDefs:[{orderable:!1,targets:4}]})}(),function(){const t="#kt_customer_details_invoices_table_3";document.querySelector(t).querySelectorAll("tbody tr").forEach((t=>{const e=t.querySelectorAll("td"),n=moment(e[0].innerHTML,"DD MMM YYYY, LT").format();e[0].setAttribute("data-order",n)})),$(t).DataTable({info:!1,order:[],pageLength:5,lengthChange:!1,columnDefs:[{orderable:!1,targets:4}]})}(),function(){const t="#kt_customer_details_invoices_table_4";document.querySelector(t).querySelectorAll("tbody tr").forEach((t=>{const e=t.querySelectorAll("td"),n=moment(e[0].innerHTML,"DD MMM YYYY, LT").format();e[0].setAttribute("data-order",n)})),$(t).DataTable({info:!1,order:[],pageLength:5,lengthChange:!1,columnDefs:[{orderable:!1,targets:4}]})}()}};KTUtil.onDOMContentLoaded((function(){KTCustomerViewPaymentTable.init(),KTCustomerViewInvoices.init(),KTCustomerViewStatements.init(),KTCustomerViewPaymentMethod.init(),KTModalAddPayment.init(),KTModalAdjustBalance.init(),KTModalUpdateCustomer.init()}));var KTCustomerViewPaymentMethod={init:function(){document.getElementById("kt_customer_view_payment_method").querySelectorAll('[ data-kt-customer-payment-method="row"]').forEach((t=>{t.querySelector('[data-kt-customer-payment-method="delete"]').addEventListener("click",(e=>{e.preventDefault(),Swal.fire({text:"Are you sure you would like to delete this card?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, return",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-active-light"}}).then((function(e){e.value?(t.remove(),modal.hide()):"cancel"===e.dismiss&&Swal.fire({text:"Your card was not deleted!.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))}))})),document.querySelector('[data-kt-payment-mehtod-action="set_as_primary"]').addEventListener("click",(t=>{t.preventDefault(),Swal.fire({text:"Are you sure you would like to set this card as primary?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, set it!",cancelButtonText:"No, return",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-active-light"}}).then((function(t){t.value?Swal.fire({text:"Your card was set to primary!.",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}):"cancel"===t.dismiss&&Swal.fire({text:"Your card was not set to primary!.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))}))}},KTCustomerViewPaymentTable=function(){var t,e=document.querySelector("#kt_table_customers_payment");return{init:function(){e&&(e.querySelectorAll("tbody tr").forEach((t=>{const e=t.querySelectorAll("td"),n=moment(e[3].innerHTML,"DD MMM YYYY, LT").format();e[3].setAttribute("data-order",n)})),t=$(e).DataTable({info:!1,order:[],pageLength:5,lengthChange:!1,columnDefs:[{orderable:!1,targets:4}]}),e.querySelectorAll('[data-kt-customer-table-filter="delete_row"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const n=e.target.closest("tr"),o=n.querySelectorAll("td")[0].innerText;Swal.fire({text:"Are you sure you want to delete "+o+"?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, delete!",cancelButtonText:"No, cancel",customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-active-light-primary"}}).then((function(e){e.value?Swal.fire({text:"You have deleted "+o+"!.",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}}).then((function(){t.row($(n)).remove().draw()})).then((function(){toggleToolbars()})):"cancel"===e.dismiss&&Swal.fire({text:customerName+" was not deleted.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}})}))}))})))}}}(),KTCustomerViewStatements={init:function(){!function(){const t="#kt_customer_view_statement_table_1";document.querySelector(t).querySelectorAll("tbody tr").forEach((t=>{const e=t.querySelectorAll("td"),n=moment(e[0].innerHTML,"DD MMM YYYY, LT").format();e[0].setAttribute("data-order",n)})),$(t).DataTable({info:!1,order:[],pageLength:10,lengthChange:!1,columnDefs:[{orderable:!1,targets:4}]})}(),function(){const t="#kt_customer_view_statement_table_2";document.querySelector(t).querySelectorAll("tbody tr").forEach((t=>{const e=t.querySelectorAll("td"),n=moment(e[0].innerHTML,"DD MMM YYYY, LT").format();e[0].setAttribute("data-order",n)})),$(t).DataTable({info:!1,order:[],pageLength:10,lengthChange:!1,columnDefs:[{orderable:!1,targets:4}]})}(),function(){const t="#kt_customer_view_statement_table_3";document.querySelector(t).querySelectorAll("tbody tr").forEach((t=>{const e=t.querySelectorAll("td"),n=moment(e[0].innerHTML,"DD MMM YYYY, LT").format();e[0].setAttribute("data-order",n)})),$(t).DataTable({info:!1,order:[],pageLength:10,lengthChange:!1,columnDefs:[{orderable:!1,targets:4}]})}(),function(){const t="#kt_customer_view_statement_table_4";document.querySelector(t).querySelectorAll("tbody tr").forEach((t=>{const e=t.querySelectorAll("td"),n=moment(e[0].innerHTML,"DD MMM YYYY, LT").format();e[0].setAttribute("data-order",n)})),$(t).DataTable({info:!1,order:[],pageLength:10,lengthChange:!1,columnDefs:[{orderable:!1,targets:4}]})}()}},KTModalUpdateCustomer=function(){var t,e,n,o,r,a;return{init:function(){t=document.querySelector("#kt_modal_update_customer"),a=new bootstrap.Modal(t),r=t.querySelector("#kt_modal_update_customer_form"),e=r.querySelector("#kt_modal_update_customer_submit"),n=r.querySelector("#kt_modal_update_customer_cancel"),o=t.querySelector("#kt_modal_update_customer_close"),e.addEventListener("click",(function(t){t.preventDefault(),e.setAttribute("data-kt-indicator","on"),setTimeout((function(){e.removeAttribute("data-kt-indicator"),Swal.fire({text:"Form has been successfully submitted!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}).then((function(t){t.isConfirmed&&a.hide()}))}),2e3)})),n.addEventListener("click",(function(t){t.preventDefault(),Swal.fire({text:"Are you sure you would like to cancel?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, cancel it!",cancelButtonText:"No, return",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-active-light"}}).then((function(t){t.value?(r.reset(),a.hide()):"cancel"===t.dismiss&&Swal.fire({text:"Your form has not been cancelled!.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))})),o.addEventListener("click",(function(t){t.preventDefault(),Swal.fire({text:"Are you sure you would like to cancel?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, cancel it!",cancelButtonText:"No, return",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-active-light"}}).then((function(t){t.value?(r.reset(),a.hide()):"cancel"===t.dismiss&&Swal.fire({text:"Your form has not been cancelled!.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))}))}}}();